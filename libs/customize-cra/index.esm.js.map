{"version":3,"file":"index.esm.js","sources":["../src/utilities.js","../src/customizers/webpack.js","../src/customizers/babel.js","../src/overrides.js"],"sourcesContent":["/**\r\n *\r\n * Returns the `babel` loader from the provided `config`.\r\n *\r\n * `create-react-app` defines two `babel` configurations, one for js files\r\n * found in `src/` and another for any js files found outside that directory.\r\n * This function can target either using the `isOutsideOfApp` param.\r\n *\r\n * @param {*} config The webpack config to search.\r\n * @param {boolean} isOutsideOfApp Flag for whether to use the `babel-loader`\r\n * for matching files in `src/` or files outside of `src/`.\r\n */\r\nexport const getBabelLoader = (config, isOutsideOfApp) => {\r\n  let babelLoaderFilter;\r\n  if (isOutsideOfApp) {\r\n    babelLoaderFilter = rule =>\r\n      rule.loader && rule.loader.includes(\"babel\") && rule.exclude;\r\n  } else {\r\n    babelLoaderFilter = rule =>\r\n      rule.loader && rule.loader.includes(\"babel\") && rule.include;\r\n  }\r\n\r\n  // First, try to find the babel loader inside the oneOf array.\r\n  // This is where we can find it when working with react-scripts@2.0.3.\r\n  let loaders = config.module.rules.find(rule => Array.isArray(rule.oneOf))\r\n    .oneOf;\r\n\r\n  let babelLoader = loaders.find(babelLoaderFilter);\r\n\r\n  // If the loader was not found, try to find it inside of the \"use\" array, within the rules.\r\n  // This should work when dealing with react-scripts@2.0.0.next.* versions.\r\n  if (!babelLoader) {\r\n    loaders = loaders.reduce((ldrs, rule) => ldrs.concat(rule.use || []), []);\r\n    babelLoader = loaders.find(babelLoaderFilter);\r\n  }\r\n  return babelLoader;\r\n};\r\n\r\nexport const tap = (options) => (config) => {\r\n  const { message, dest } = options || {}\r\n  const print = []\r\n  if (message) print.push(message)\r\n  print.push(JSON.stringify(config, null, 2))\r\n\r\n  if (dest) {\r\n    const fs = require('fs')\r\n    fs.appendFile(dest, `${print.join('\\n')}\\n`)\r\n  }\r\n\r\n  print.forEach(sentence => console.log(sentence))\r\n\r\n  return config\r\n}\r\n","import { getBabelLoader } from \"../utilities\";\r\n\r\nexport const addBundleVisualizer = (\r\n  options = {},\r\n  behindFlag = false\r\n) => config => {\r\n  const BundleAnalyzerPlugin = require(\"webpack-bundle-analyzer\")\r\n    .BundleAnalyzerPlugin;\r\n\r\n  // if behindFlag is set to true, the report will be created only if\r\n  // the `--analyze` flag is added to the `yarn build` command\r\n  if (behindFlag ? process.argv.includes(\"--analyze\") : true) {\r\n    config.plugins.push(\r\n      new BundleAnalyzerPlugin(\r\n        Object.assign(\r\n          {\r\n            analyzerMode: \"static\",\r\n            reportFilename: \"report.html\"\r\n          },\r\n          options\r\n        )\r\n      )\r\n    );\r\n  }\r\n  return config;\r\n};\r\n\r\nexport const disableEsLint = () => config => {\r\n  let eslintRules = config.module.rules.filter(\r\n    r => r.use && r.use.some(u => u.options && u.options.useEslintrc !== void 0)\r\n  );\r\n  eslintRules.forEach(rule => {\r\n    config.module.rules = config.module.rules.filter(r => r !== rule);\r\n  });\r\n  return config;\r\n};\r\n\r\nexport const addWebpackAlias = alias => config => {\r\n  if (!config.resolve) {\r\n    config.resolve = {};\r\n  }\r\n  if (!config.resolve.alias) {\r\n    config.resolve.alias = {};\r\n  }\r\n  Object.assign(config.resolve.alias, alias);\r\n  return config;\r\n};\r\n\r\nexport const addWebpackResolve = resolve => config => {\r\n  if (!config.resolve) {\r\n    config.resolve = {};\r\n  }\r\n  Object.assign(config.resolve, resolve);\r\n  return config;\r\n};\r\n\r\nexport const addWebpackPlugin = plugin => config => {\r\n  config.plugins.push(plugin);\r\n  return config;\r\n};\r\n\r\nexport const adjustWorkbox = adjust => config => {\r\n  config.plugins.forEach(p => {\r\n    if (p.constructor.name === \"GenerateSW\") {\r\n      adjust(p.config);\r\n    }\r\n  });\r\n  return config;\r\n};\r\n\r\nexport const adjustStyleLoaders = callback => config => {\r\n  const mode = process.env.NODE_ENV === 'production' ? 'prod' : 'dev';\r\n  const loader = mode === 'prod' ? 'css-extract-plugin' : 'style-loader';\r\n\r\n  const loaders = config.module.rules.find(rule => Array.isArray(rule.oneOf))\r\n    .oneOf;\r\n  const styleLoaders = loaders.filter(({ use }) => use && use[0] && (use[0].loader || use[0]).includes(loader));\r\n  styleLoaders.forEach(loader => callback(loader));\r\n\r\n  return config;\r\n};\r\n\r\nexport const useEslintRc = configFile => config => {\r\n  const eslintRule = config.module.rules.filter(\r\n    r => r.use && r.use.some(u => u.options && u.options.useEslintrc !== void 0)\r\n  )[0];\r\n\r\n  eslintRule.use[0].options.useEslintrc = true;\r\n  eslintRule.use[0].options.ignore = true;\r\n  eslintRule.use[0].options.configFile = configFile;\r\n\r\n  delete eslintRule.use[0].options.baseConfig;\r\n\r\n  const rules = config.module.rules.map(r =>\r\n    r.use && r.use.some(u => u.options && u.options.useEslintrc !== void 0)\r\n      ? eslintRule\r\n      : r\r\n  );\r\n  config.module.rules = rules;\r\n\r\n  return config;\r\n};\r\n\r\nexport const enableEslintTypescript = () => config => {\r\n  const eslintRule = config.module.rules.filter(\r\n    r => r.use && r.use.some(u => u.options && u.options.useEslintrc !== void 0)\r\n  )[0];\r\n\r\n  eslintRule.test = /\\.([j,t]sx?|mjs)$/;\r\n\r\n  const rules = config.module.rules.map(r =>\r\n    r.use && r.use.some(u => u.options && u.options.useEslintrc !== void 0)\r\n      ? eslintRule\r\n      : r\r\n  );\r\n  config.module.rules = rules;\r\n\r\n  return config;\r\n};\r\n\r\nexport const addLessLoader = (loaderOptions = {}) => config => {\r\n  const mode = process.env.NODE_ENV === \"development\" ? \"dev\" : \"prod\";\r\n\r\n  // Need these for production mode, which are copied from react-scripts\r\n  const publicPath = require(\"react-scripts/config/paths\").servedPath;\r\n  const shouldUseRelativeAssetPaths = publicPath === \"./\";\r\n  const shouldUseSourceMap =\r\n    mode === \"prod\" && process.env.GENERATE_SOURCEMAP !== \"false\";\r\n  const lessRegex = /\\.less$/;\r\n  const lessModuleRegex = /\\.module\\.less$/;\r\n  const localIdentName =\r\n    loaderOptions.localIdentName || \"[path][name]__[local]--[hash:base64:5]\";\r\n\r\n  const getLessLoader = cssOptions => {\r\n    return [\r\n      mode === \"dev\"\r\n        ? require.resolve(\"style-loader\")\r\n        : {\r\n            loader: require(\"mini-css-extract-plugin\").loader,\r\n            options: Object.assign(\r\n              {},\r\n              shouldUseRelativeAssetPaths ? { publicPath: \"../../\" } : undefined\r\n            )\r\n          },\r\n      {\r\n        loader: require.resolve(\"css-loader\"),\r\n        options: cssOptions\r\n      },\r\n      {\r\n        loader: require.resolve(\"postcss-loader\"),\r\n        options: {\r\n          ident: \"postcss\",\r\n          plugins: () => [\r\n            require(\"postcss-flexbugs-fixes\"),\r\n            require(\"postcss-preset-env\")({\r\n              autoprefixer: {\r\n                flexbox: \"no-2009\"\r\n              },\r\n              stage: 3\r\n            })\r\n          ],\r\n          sourceMap: shouldUseSourceMap\r\n        }\r\n      },\r\n      {\r\n        loader: require.resolve(\"less-loader\"),\r\n        options: Object.assign(loaderOptions, {\r\n          source: shouldUseSourceMap\r\n        })\r\n      }\r\n    ];\r\n  };\r\n\r\n  const loaders = config.module.rules.find(rule => Array.isArray(rule.oneOf))\r\n    .oneOf;\r\n\r\n  // Insert less-loader as the penultimate item of loaders (before file-loader)\r\n  loaders.splice(\r\n    loaders.length - 1,\r\n    0,\r\n    {\r\n      test: lessRegex,\r\n      exclude: lessModuleRegex,\r\n      use: getLessLoader({\r\n        importLoaders: 2\r\n      }),\r\n      sideEffects: mode === \"prod\"\r\n    },\r\n    {\r\n      test: lessModuleRegex,\r\n      use: getLessLoader({\r\n        importLoaders: 2,\r\n        modules: {\r\n          localIdentName: localIdentName\r\n        }\r\n        \r\n      })\r\n    }\r\n  );\r\n\r\n  return config;\r\n};\r\n\r\n// to be used inside `overrideDevServer`, makes CRA watch all the folders\r\n// included `node_modules`, useful when you are working with linked packages\r\n// usage: `yarn start --watch-all`\r\nexport const watchAll = () => config => {\r\n  if (process.argv.includes(\"--watch-all\")) {\r\n    delete config.watchOptions;\r\n  }\r\n  return config;\r\n};\r\n\r\n// to be used to disable chunk according to:\r\n// https://github.com/facebook/create-react-app/issues/5306#issuecomment-433425838\r\nexport const disableChunk = () => config => {\r\n  config.optimization.splitChunks = {\r\n    cacheGroups: {\r\n      default: false\r\n    }\r\n  };\r\n\r\n  config.optimization.runtimeChunk = false;\r\n\r\n  return config;\r\n};\r\n\r\n// to be used to ignore replace packages with global variable\r\n// Useful when trying to offload libs to CDN\r\nexport const addWebpackExternals = externalDeps => config => {\r\n  let externals = config.externals;\r\n  if (!externals) {\r\n    externals = externalDeps;\r\n  } else if (Array.isArray(externalDeps)) {\r\n    externals = externalDeps.concat(externals);\r\n  } else if (\r\n    Array.isArray(externals) ||\r\n    externalDeps.constructor === Function ||\r\n    externalDeps.constructor === RegExp\r\n  ) {\r\n    externals = [externalDeps].concat(externals);\r\n  } else if (externalDeps instanceof Object && externals instanceof Object) {\r\n    externals = {\r\n      ...externals,\r\n      ...externalDeps\r\n    };\r\n  }\r\n\r\n  config.externals = externals;\r\n  return config;\r\n};\r\n\r\nexport const addPostcssPlugins = plugins => config => {\r\n  const rules = config.module.rules.find(rule => Array.isArray(rule.oneOf))\r\n    .oneOf;\r\n  rules.forEach(\r\n    r =>\r\n      r.use &&\r\n      r.use.forEach(u => {\r\n        if (u.options && u.options.ident === \"postcss\") {\r\n          if (!u.options.plugins) {\r\n            u.options.plugins = () => [...plugins];\r\n          }\r\n          if (u.options.plugins) {\r\n            const originalPlugins = u.options.plugins;\r\n            u.options.plugins = () => [...originalPlugins(), ...plugins];\r\n          }\r\n        }\r\n      })\r\n  );\r\n  return config;\r\n};\r\n\r\n// This will remove the CRA plugin that prevents to import modules from\r\n// outside the `src` directory, useful if you use a different directory\r\nexport const removeModuleScopePlugin = () => config => {\r\n  config.resolve.plugins = config.resolve.plugins.filter(\r\n    p => p.constructor.name !== \"ModuleScopePlugin\"\r\n  );\r\n  return config;\r\n};\r\n\r\n/**\r\n * Add the provided module to the webpack module rules array.\r\n *\r\n * @param rule The rule to be added\r\n * @see https://webpack.js.org/configuration/module/#modulerules\r\n */\r\nexport const addWebpackModuleRule = rule => config => {\r\n  for (let _rule of config.module.rules) {\r\n    if (_rule.oneOf) {\r\n      _rule.oneOf.unshift(rule);\r\n      break;\r\n    }\r\n  }\r\n  return config;\r\n};\r\n\r\nexport const addTslintLoader = options => config => {\r\n  config.module.rules.unshift({\r\n    test: /\\.(ts|tsx)$/,\r\n    loader: \"tslint-loader\",\r\n    options,\r\n    enforce: \"pre\"\r\n  });\r\n  return config;\r\n};\r\n\r\n/**\r\n * Override the webpack target.\r\n *\r\n * @param target What to set the webpack target as (can be string or function).\r\n *\r\n * @see https://webpack.js.org/configuration/target/\r\n */\r\nexport const setWebpackTarget = target => config => {\r\n  config.target = target;\r\n  return config;\r\n};\r\n\r\n/**\r\n * override the webpack publicPath\r\n *\r\n * @param path What to set the webpack publicPath as.\r\n * @see https://webpack.js.org/configuration/output/#outputpublicpath\r\n */\r\nexport const setWebpackPublicPath = path => config => {\r\n  if (path) {\r\n    if (!(path.startsWith(\"http\") || path.startsWith(\"https\"))) {\r\n      if (!path.startsWith(\"/\")) {\r\n        path = \"/\" + path;\r\n      }\r\n    }\r\n    if (!path.endsWith(\"/\")) {\r\n      path = path + \"/\";\r\n    }\r\n    config.output.publicPath = path;\r\n  }\r\n  return config;\r\n};\r\n\r\n/**\r\n * override the webpack optimization.splitChunks\r\n *\r\n * @param configuration of optimization.splitChunks\r\n * @see https://webpack.js.org/plugins/split-chunks-plugin/\r\n */\r\nexport const setWebpackOptimizationSplitChunks = splitChunks => config => {\r\n  if (splitChunks && typeof splitChunks === \"object\") {\r\n    config.optimization.splitChunks = splitChunks;\r\n  }\r\n  return config;\r\n};\r\n\r\n/**\r\n * Sets the `stats` object in Webpack config\r\n * This may not work in development mode\r\n *\r\n * @param stats Stats configuration in Webpack\r\n * @see https://webpack.js.org/configuration/stats/\r\n */\r\nexport const setWebpackStats = stats => config => {\r\n  config.stats = stats;\r\n  return config;\r\n};\r\n","import { getBabelLoader } from \"../utilities\";\r\n\r\nexport const addBabelPlugin = plugin => config => {\r\n  getBabelLoader(config).options.plugins.push(plugin);\r\n  return config;\r\n};\r\n\r\nexport const addExternalBabelPlugin = plugin => config => {\r\n  const outsideBabelOptions = getBabelLoader(config, true).options;\r\n  if (!outsideBabelOptions.plugins) {\r\n    outsideBabelOptions.plugins = [];\r\n  }\r\n  outsideBabelOptions.plugins.push(plugin);\r\n  return config;\r\n};\r\n\r\nexport const addBabelPreset = preset => config => {\r\n  getBabelLoader(config).options.presets.push(preset);\r\n  return config;\r\n};\r\n\r\nexport const addDecoratorsLegacy = () => config =>\r\n  addBabelPlugin([\"@babel/plugin-proposal-decorators\", { legacy: true }])(\r\n    config\r\n  );\r\n\r\nexport const useBabelRc = () => config => {\r\n  getBabelLoader(config).options.babelrc = true;\r\n  return config;\r\n};\r\n\r\nexport const babelInclude = include => config => {\r\n  getBabelLoader(config).include = include;\r\n  return config;\r\n};\r\n\r\n/**\r\n * Replaces the `exclude` option of `babel-loader`.\r\n * @param exclude The new `exclude` value.\r\n */\r\nexport const babelExclude = exclude => config => {\r\n  getBabelLoader(config).exclude = exclude;\r\n  return config;\r\n};\r\n\r\nexport const addBabelPlugins = (...plugins) =>\r\n  plugins.map(p => addBabelPlugin(p));\r\n\r\nexport const addExternalBabelPlugins = (...plugins) =>\r\n  plugins.map(p => addExternalBabelPlugin(p));\r\n\r\nexport const addBabelPresets = (...plugins) =>\r\n  plugins.map(p => addBabelPreset(p));\r\n\r\nexport const fixBabelImports = (libraryName, options) =>\r\n  addBabelPlugin([\r\n    \"import\",\r\n    Object.assign(\r\n      {},\r\n      {\r\n        libraryName\r\n      },\r\n      options\r\n    ),\r\n    `fix-${libraryName}-imports`\r\n  ]);\r\n\r\nexport const removeInternalBabelPlugin = pluginName => config => {\r\n  config.plugins = config.plugins.filter(p => p.constructor.name !== pluginName);\r\n  return config;\r\n};\r\n","import flow from \"lodash.flow\";\r\n\r\nexport const override = (...plugins) => flow(...plugins.filter(f => f));\r\n\r\n// Use this helper to override the webpack dev server settings\r\n//  it works just like the `override` utility\r\nexport const overrideDevServer = (...plugins) => configFunction => (\r\n  proxy,\r\n  allowedHost\r\n) => {\r\n  const config = configFunction(proxy, allowedHost);\r\n  const updatedConfig = override(...plugins)(config);\r\n  return updatedConfig;\r\n};\r\n"],"names":["getBabelLoader","config","isOutsideOfApp","babelLoaderFilter","rule","loader","includes","exclude","include","loaders","module","rules","find","Array","isArray","oneOf","babelLoader","reduce","ldrs","concat","use","tap","options","message","dest","print","push","JSON","stringify","require","appendFile","join","forEach","sentence","console","log","addBundleVisualizer","behindFlag","BundleAnalyzerPlugin","process","argv","plugins","Object","assign","analyzerMode","reportFilename","disableEsLint","filter","r","some","u","useEslintrc","addWebpackAlias","alias","resolve","addWebpackResolve","addWebpackPlugin","plugin","adjustWorkbox","adjust","p","constructor","name","adjustStyleLoaders","callback","env","NODE_ENV","useEslintRc","configFile","eslintRule","ignore","baseConfig","map","enableEslintTypescript","test","addLessLoader","loaderOptions","mode","shouldUseRelativeAssetPaths","servedPath","shouldUseSourceMap","GENERATE_SOURCEMAP","lessModuleRegex","localIdentName","getLessLoader","cssOptions","publicPath","undefined","ident","autoprefixer","flexbox","stage","sourceMap","source","splice","length","importLoaders","sideEffects","modules","watchAll","watchOptions","disableChunk","optimization","splitChunks","cacheGroups","default","runtimeChunk","addWebpackExternals","externalDeps","externals","Function","RegExp","addPostcssPlugins","originalPlugins","removeModuleScopePlugin","addWebpackModuleRule","_rule","unshift","addTslintLoader","enforce","setWebpackTarget","target","setWebpackPublicPath","path","startsWith","endsWith","output","setWebpackOptimizationSplitChunks","setWebpackStats","stats","addBabelPlugin","addExternalBabelPlugin","outsideBabelOptions","addBabelPreset","preset","presets","addDecoratorsLegacy","legacy","useBabelRc","babelrc","babelInclude","babelExclude","addBabelPlugins","addExternalBabelPlugins","addBabelPresets","fixBabelImports","libraryName","removeInternalBabelPlugin","pluginName","override","flow","f","overrideDevServer","configFunction","proxy","allowedHost"],"mappings":"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"}